<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FestiDex - Artistes</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
    <section>
        <div class="container">
            <nav class="navbar">
                <div><h1 class="logo">FestiDex</h1></div>
                <div class="search">
                    <input type="search" id="search-bar" name="search-bar" placeholder="Rechercher un artiste, un concert..." autocomplete="off">
                    <div id="search-suggestions" class="suggestions-box"></div>
                </div>
                <div>
                    <ul class="nav-links">
                        <li><a href="/" class="color links-head">Accueil</a></li>
                        <li><a href="/artists" class="color links-head">Artistes</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </section>
    <section>
        <div class="container">
            <div class="artists-header">
                <h2 class="color">Artistes</h2>
                <p class="test">Découvrez tous les artistes qui se produisent près de chez vous</p>
            </div>
            <div class="filters-container">
                <div class="filter-group">
                    <label for="creation-date-min">Date de création</label>
                    <div class="range-filter">
                        <input type="number" id="creation-date-min" placeholder="Min" min="1900" max="2025">
                        <span>-</span>
                        <input type="number" id="creation-date-max" placeholder="Max" min="1900" max="2025">
                    </div>
                </div>
                <div class="filter-group">
                    <label for="members-min">Nombre de membres</label>
                    <div class="range-filter">
                        <input type="number" id="members-min" placeholder="Min" min="1" max="20">
                        <span>-</span>
                        <input type="number" id="members-max" placeholder="Max" min="1" max="20">
                    </div>
                </div>
                <div class="filter-group">
                    <button id="apply-filters" class="btn-filter">Filtrer</button>
                    <button id="reset-filters" class="btn-reset">Réinitialiser</button>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div class="container">
            <div class="gallery">
                <div class="grid artists-grid" id="artists-container">
                    {{range .Artists}}
                    <div class="artist-card"
                         data-artist-id="{{.ID}}"
                         data-creation-date="{{.CreationDate}}"
                         data-members-count="{{len .Members}}"
                         data-first-album="{{.FirstAlbum}}">
                        <div class="artist-image" style="background-image: url('{{.Image}}')"></div>
                        <div class="artist-info">
                            <h3>{{.Name}}</h3>
                            <p class="members-count">{{len .Members}} membre(s)</p>
                            <p class="creation-date">Créé en {{.CreationDate}}</p>
                            <p class="first-album">Premier album: {{.FirstAlbum}}</p>
                            <a href="/artist/{{.ID}}" class="view-details">Voir les détails</a>
                        </div>
                    </div>
                    {{end}}
                </div>
            </div>
        </div>
    </section>

    <script>
        let allArtists = [];
        {{range .Artists}}
        allArtists.push({
            id: {{.ID}},
            name: "{{.Name}}",
            members: [{{range $i, $m := .Members}}{{if $i}},{{end}}"{{$m}}"{{end}}],
            creationDate: {{.CreationDate}},
            firstAlbum: "{{.FirstAlbum}}"
        });
        {{end}}
    </script>
    <script src="/assets/js/search.js"></script>
    <script src="/assets/js/filters.js"></script>
</body>
<footer class="footer">
    <li>FestiDex © 2025 - Votre guide des concerts à venir</li>
</footer>
</html>